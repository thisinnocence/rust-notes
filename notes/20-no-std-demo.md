# 20 - no_std 最小 Demo 路线图

本章目标：给出一个可执行的 bare-metal 递进路径。

## 1. 阶段化目标

| 阶段 | 目标 |
| --- | --- |
| 第一步 | `#![no_std]` + `#![no_main]` 最小入口 |
| 第二步 | 自定义 `panic_handler` |
| 第三步 | 启动汇编 + 链接脚本 |
| 第四步 | 串口输出与最小调试能力 |
| 第五步 | 中断/时钟/内存初始化 |

## 2. 关键文件

- `start.S`：入口与早期启动。
- `linker.ld`：内存布局与段放置。
- `main.rs`：Rust 逻辑入口。
- `.cargo/config.toml`：目标与链接参数。

## 3. 常见失败点

- panic handler 缺失。
- 链接地址与实际加载地址不一致。
- 初始化顺序错误（BSS/DATA/时钟/中断）。

## 4. 建议流程

- 先在 QEMU 跑通“最小死循环 + 串口输出”。
- 再逐步加中断和驱动，不要一次上完整系统。

## 5. 一句话总结

- no_std 的本质不是“更难写代码”，而是“你接管了运行时初始化责任”。
